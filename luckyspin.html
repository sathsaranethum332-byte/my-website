<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ROLLEX Lucky Spin</title>

<style>

body{
margin:0;
font-family:Segoe UI;
background:linear-gradient(135deg,#0d0d1a,#140033);
text-align:center;
color:white;
min-height:100vh;
overflow:hidden;
}

/* Floating Glow Animation */
body::before{
content:"";
position:fixed;
width:200%;
height:200%;
background:radial-gradient(circle,#00aaff22 10%,transparent 60%);
animation:moveBg 8s linear infinite;
}
@keyframes moveBg{
0%{transform:translate(-20%,-20%)}
100%{transform:translate(20%,20%)}
}

h1{
margin-top:20px;
font-size:20px;
letter-spacing:1px;
animation:fadeIn 1s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(-20px)}
to{opacity:1}
}

/* Wheel Container */
.wheel-container{
position:relative;
width:90vw;
max-width:320px;
height:90vw;
max-height:320px;
margin:30px auto;
}

/* Wheel */
.wheel{
width:100%;
height:100%;
border-radius:50%;
border:6px solid #00aaff;
transition:transform 4s cubic-bezier(.17,.67,.83,.67);
background: conic-gradient(
#1f2937 0deg 45deg,
#111827 45deg 90deg,
#1f2937 90deg 135deg,
#111827 135deg 180deg,
#1f2937 180deg 225deg,
#111827 225deg 270deg,
#00aaff 270deg 315deg,
#111827 315deg 360deg
);
box-shadow:0 0 25px #00aaff55;
}

/* Pointer */
.pointer{
position:absolute;
top:-12px;
left:50%;
transform:translateX(-50%);
border-left:12px solid transparent;
border-right:12px solid transparent;
border-bottom:25px solid gold;
z-index:2;
animation:pulse 1s infinite alternate;
}
@keyframes pulse{
from{transform:translateX(-50%) scale(1)}
to{transform:translateX(-50%) scale(1.1)}
}

button{
padding:10px 18px;
border:1px solid #00aaff;
border-radius:25px;
background:#111;
color:#00aaff;
font-weight:bold;
margin:8px;
font-size:15px;
transition:0.3s;
}
button:hover{
background:#002244;
transform:scale(1.08);
}

#spinInfo{
margin-top:8px;
font-size:16px;
}

/* Popup */
.popup{
display:none;
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,0.85);
}
.popup.active{
display:flex;
justify-content:center;
align-items:center;
animation:fadeIn 0.5s ease;
}
.box{
background:#111;
padding:25px;
border-radius:18px;
box-shadow:0 0 20px #00aaff55;
}

.big-win{
animation:flash 0.4s infinite alternate;
}
@keyframes flash{
from{color:#00ff00}
to{color:#ffff00}
}

input{
padding:8px;
margin-top:10px;
border-radius:8px;
border:none;
width:80%;
}
.BB {
    box-shadow: 0 0 10PX #00aaff;
}

</style>
</head>
<body>

<h1>ðŸŽ¡ ROLLEX LUCKY SPIN ðŸŽ¡</h1>

<div class="wheel-container">
<div class="pointer"></div>
<div class="wheel" id="wheel"></div>
</div>

<button onclick="spin()">SPIN NOW</button>
<BR>
    
<div id="spinInfo"></div>
<BR>
    <a href="giveawy.html"><button CLASS="BB">BACK</button></a>
<!-- Popup -->
<div id="popup" class="popup">
<div class="box">
<h2 id="resultTitle"></h2>
<p id="resultText"></p>

<div id="claimSection">
<input type="text" id="gameId" placeholder="Enter Game ID">
<br>
<button onclick="send()">Send</button>
</div>

<br>
<button onclick="closePopup()">Back</button>
</div>
</div>

<!-- Sounds -->
<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-game-wheel-spin-1468.mp3"></audio>
<audio id="loseSound" src="https://assets.mixkit.co/sfx/preview/mixkit-player-losing-or-failing-2042.mp3"></audio>
<audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>

<script>

let wheel = document.getElementById("wheel");
let popup = document.getElementById("popup");
let spinInfo = document.getElementById("spinInfo");

let prizes = ["TRY","TRY","TRY","TRY","TRY","TRY","WIN","TRY"];
let maxSpins = 1; // ðŸ”¥ Only 1 Spin

function getSpinData(){
let data = JSON.parse(localStorage.getItem("spinData"));
if(!data){
data = { spinsLeft: maxSpins, resetTime: null };
localStorage.setItem("spinData", JSON.stringify(data));
}
return data;
}

function updateSpinInfo(){
let data = getSpinData();
if(data.spinsLeft > 0){
spinInfo.innerHTML = "Spin Available: 1";
}else{
startCountdown();
}
}

function spin(){
let data = getSpinData();
if(data.spinsLeft <= 0){
alert("â›” Spin Not Available!");
return;
}

data.spinsLeft--;
data.resetTime = Date.now() + (6*60*60*1000); // ðŸ”¥ 6 Hours Reset
localStorage.setItem("spinData", JSON.stringify(data));
updateSpinInfo();

document.getElementById("spinSound").play();

let randomDegree = 1800 + Math.floor(Math.random()*360);
wheel.style.transform = "rotate("+randomDegree+"deg)";

setTimeout(()=>{
let actualDegree = randomDegree % 360;
let index = Math.floor((360 - actualDegree) / 45) % 8;
let selectedPrize = prizes[index];

if(selectedPrize==="WIN"){
document.getElementById("resultTitle").innerHTML="ðŸŽ‰ BIG WINNER ðŸŽ‰";
document.getElementById("resultTitle").classList.add("big-win");
document.getElementById("resultText").innerHTML= "You Won ðŸ’Ž 20 Diamonds ðŸ’Ž";
document.getElementById("winSound").play();
document.getElementById("claimSection").style.display="block";
}else{
document.getElementById("resultTitle").innerHTML="ðŸ˜¢ Try Again";
document.getElementById("resultText").innerHTML="Better Luck Next Time!";
document.getElementById("loseSound").play();
document.getElementById("claimSection").style.display="none";
}

popup.classList.add("active");

},4000);
}

function startCountdown(){
let interval = setInterval(()=>{
let data = getSpinData();
let diff = data.resetTime - Date.now();
if(diff <= 0){
localStorage.removeItem("spinData");
clearInterval(interval);
updateSpinInfo();
return;
}
let h = Math.floor(diff/1000/60/60);
let m = Math.floor((diff/1000/60)%60);
let s = Math.floor((diff/1000)%60);
spinInfo.innerHTML = "â³ Reset In: "+h+"h "+m+"m "+s+"s";
},1000);
}

function send(){
let gameId = document.getElementById("gameId").value;
if(gameId==""){ alert("Enter Game ID"); return; }

let message = "ðŸŽ‰ Lucky Spin Winner!\nPrize: ðŸ’Ž 20 Diamonds ðŸ’Ž\nGame ID: "+gameId;
window.open("https://wa.me/94756706560?text="+encodeURIComponent(message),"_blank");
}

function closePopup(){
popup.classList.remove("active");
document.getElementById("gameId").value="";
}

updateSpinInfo();

</script>

</body>
</html>
